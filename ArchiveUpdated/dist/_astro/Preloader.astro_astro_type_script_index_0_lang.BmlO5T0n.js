function x(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var g={exports:{}},p={exports:{}},q=p.exports,v;function w(){return v||(v=1,function(n){(function(l,h){n.exports?n.exports=h():l.EvEmitter=h()})(typeof window<"u"?window:q,function(){function l(){}let h=l.prototype;return h.on=function(a,r){if(!a||!r)return this;let s=this._events=this._events||{},d=s[a]=s[a]||[];return d.includes(r)||d.push(r),this},h.once=function(a,r){if(!a||!r)return this;this.on(a,r);let s=this._onceEvents=this._onceEvents||{},d=s[a]=s[a]||{};return d[r]=!0,this},h.off=function(a,r){let s=this._events&&this._events[a];if(!s||!s.length)return this;let d=s.indexOf(r);return d!=-1&&s.splice(d,1),this},h.emitEvent=function(a,r){let s=this._events&&this._events[a];if(!s||!s.length)return this;s=s.slice(0),r=r||[];let d=this._onceEvents&&this._onceEvents[a];for(let i of s)d&&d[i]&&(this.off(a,i),delete d[i]),i.apply(this,r);return this},h.allOff=function(){return delete this._events,delete this._onceEvents,this},l})}(p)),p.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */var C=g.exports,I;function A(){return I||(I=1,function(n){(function(l,h){n.exports?n.exports=h(l,w()):l.imagesLoaded=h(l,l.EvEmitter)})(typeof window<"u"?window:C,function(h,a){let r=h.jQuery,s=h.console;function d(e){return Array.isArray(e)?e:typeof e=="object"&&typeof e.length=="number"?[...e]:[e]}function i(e,t,o){if(!(this instanceof i))return new i(e,t,o);let c=e;if(typeof e=="string"&&(c=document.querySelectorAll(e)),!c){s.error(`Bad element for imagesLoaded ${c||e}`);return}this.elements=d(c),this.options={},typeof t=="function"?o=t:Object.assign(this.options,t),o&&this.on("always",o),this.getImages(),r&&(this.jqDeferred=new r.Deferred),setTimeout(this.check.bind(this))}i.prototype=Object.create(a.prototype),i.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const y=[1,9,11];i.prototype.addElementImages=function(e){e.nodeName==="IMG"&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);let{nodeType:t}=e;if(!t||!y.includes(t))return;let o=e.querySelectorAll("img");for(let c of o)this.addImage(c);if(typeof this.options.background=="string"){let c=e.querySelectorAll(this.options.background);for(let b of c)this.addElementBackgroundImages(b)}};const E=/url\((['"])?(.*?)\1\)/gi;i.prototype.addElementBackgroundImages=function(e){let t=getComputedStyle(e);if(!t)return;let o=E.exec(t.backgroundImage);for(;o!==null;){let c=o&&o[2];c&&this.addBackground(c,e),o=E.exec(t.backgroundImage)}},i.prototype.addImage=function(e){let t=new u(e);this.images.push(t)},i.prototype.addBackground=function(e,t){let o=new m(e,t);this.images.push(o)},i.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let e=(t,o,c)=>{setTimeout(()=>{this.progress(t,o,c)})};this.images.forEach(function(t){t.once("progress",e),t.check()})},i.prototype.progress=function(e,t,o){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&s&&s.log(`progress: ${o}`,e,t)},i.prototype.complete=function(){let e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){let t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}};function u(e){this.img=e}u.prototype=Object.create(a.prototype),u.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},u.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},u.prototype.confirm=function(e,t){this.isLoaded=e;let{parentNode:o}=this.img,c=o.nodeName==="PICTURE"?o:this.img;this.emitEvent("progress",[this,c,t])},u.prototype.handleEvent=function(e){let t="on"+e.type;this[t]&&this[t](e)},u.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},u.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},u.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function m(e,t){this.url=e,this.element=t,this.img=new Image}return m.prototype=Object.create(u.prototype),m.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},m.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},m.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},i.makeJQueryPlugin=function(e){e=e||h.jQuery,e&&(r=e,r.fn.imagesLoaded=function(t,o){return new i(this,t,o).jqDeferred.promise(r(this))})},i.makeJQueryPlugin(),i})}(g)),g.exports}var _=A();const O=x(_);let f;const S=()=>{f=document.querySelector(".loading")},B=()=>new Promise((n,l)=>{const h=document.querySelectorAll("img"),a=[...document.querySelectorAll("*")].filter(d=>window.getComputedStyle(d).backgroundImage!=="none"),r=[...h,...a],s=O(r,{background:!0});s.on("done",n),s.on("fail",d=>{console.warn("Some images failed to load:",d.images.filter(i=>!i.isLoaded).map(i=>i.img?.src||"background image")),n()})}),j=async()=>{try{await B();const n=new CustomEvent("assetsLoaded");document.dispatchEvent(n)}catch(n){throw console.error("Failed to load assets:",n),n}},D=async()=>{if(sessionStorage.getItem("preloadComplete")==="true"){L();return}P();try{await j(),sessionStorage.setItem("preloadComplete","true"),L()}catch(n){console.error("Failed to load assets or animate:",n)}},P=()=>{f.classList.remove("hidden")},L=()=>{f.classList.add("hidden")},T=()=>{f=null},W=()=>{S(),D()},k=(n,l)=>{document.documentElement.getAttribute("data-page")==="home"&&l()};document.addEventListener("astro:page-load",()=>{k("page-load",W)});document.addEventListener("astro:before-swap",()=>{k("before-swap",T)});window.addEventListener("beforeunload",()=>{sessionStorage.removeItem("preloadComplete")});
