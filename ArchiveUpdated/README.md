# ArchiveUpdated - Music Artist Showcase

An Astro-based static site for showcasing music artists and albums, built as an updated version of the archive project.

## Project Structure

- **Source**: `src/` - Astro source files, components, layouts, pages, and data
- **Public Assets**: `public/` - Static assets (images, icons, favicons)
- **Build Output**: `dist/` - Generated static HTML files
- **Base Path**: `/archive/` - All routes are prefixed with this base path

## Key Components

### Navigation
- **Navbar.astro** - Main navigation bar with dropdown menu and social icons (used in BaseLayout)
- **ArtistGridHeader.astro** - Page-specific header for the archive grid with Sort/Shuffle/Search

### Layouts
- **BaseLayout.astro** - Main layout wrapper with SEO, favicons, and navigation

### Pages
- **index.astro** - Homepage with artist grid
- **[artist_id].astro** - Individual artist pages
- **[artist_id]/albums/[album_id].astro** - Album detail pages

## Important Notes

### Archive.html Dependency
The "View all" link on artist pages points to `/archive/archive.html`, which is a static file that must exist in the `archive/` directory. This file is generated by building this project (`ArchiveUpdated/`) and copying the output from `dist/` to the `archive/` directory.

**Build Process:**
1. Run `npm run build` in `ArchiveUpdated/` directory
2. Copy `dist/index.html` to `archive/archive.html`
3. Copy all other `dist/` contents to `archive/` directory

### Base URL Configuration
All paths use `import.meta.env.BASE_URL` (which resolves to `/archive/`) to ensure correct routing when deployed to a subdirectory.

### Scripts
All scripts are imported as ES modules using relative paths. They are automatically bundled by Astro/Vite during the build process.

## Build Commands

```bash
npm install              # Install dependencies
npm run dev             # Start development server at localhost:4321
npm run build           # Build for production (outputs to dist/)
npm run build:archive   # Build and copy to archive/ directory (recommended)
npm run build:archive:clean  # Clean build (removes dist/ and archive/ first)
npm run build:archive:verify # Build with path verification
npm run verify          # Verify paths in archive/ output
npm run preview         # Preview production build
```

### Automated Build (Recommended)

Use the automated build script that handles everything:

```bash
# Standard build and copy
npm run build:archive

# Clean build (removes dist/ and archive/ first)
npm run build:archive:clean

# Build with verification
npm run build:archive:verify
```

Or directly with PowerShell:

```powershell
.\build-archive.ps1
.\build-archive.ps1 -Clean
.\build-archive.ps1 -Verify
```

## Deployment

The project is configured with `base: '/archive/'` in `astro.config.mjs`, making it suitable for deployment to GitHub Pages or any static hosting service where the site is served from a subdirectory.
